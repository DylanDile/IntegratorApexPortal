import{_ as p}from"./index-BDECaJm0.js";import{_ as m,r as c,o as r,c as l,a as t,t as o,w as g,b as f,v as k,F as b,d as v,e as d,n as B,f as u,g as w}from"./index-D64jIgDt.js";const x="/apex-icons/icon8.png",C={components:{VueAwesomePaginate:p},data(){return{page:1,search:"",currentPage:1,pageCount:0,perPage:20,filteredBanks:[],loading:!1,banks:[{institutionID:1,instName:"Adansi Rural Bank",leaD_CO_CODE:"GN009809",instOperatingStatus:"active"},{institutionID:2,instName:"Upper Manya Rural Bank",leaD_CO_CODE:"GN209809",instOperatingStatus:"active"},{institutionID:3,instName:"Anlo Rural Bank",leaD_CO_CODE:"GN209809",instOperatingStatus:"active"},{institutionID:4,instName:"Akorobi Manya Rural Bank",leaD_CO_CODE:"GN209809",instOperatingStatus:"active"}]}},methods:{async getBanks(){await window.axios.get("/api/Institutions").then(s=>{this.banks=s.data.body.data,this.filteredBanks=s.data.body.data})},onClickHandler(s){this.page=s},searchBank(){if(this.search===""){this.filteredBanks=this.banks;return}this.banks=this.banks;let s=this.banks.filter(e=>e.instName.toLowerCase().includes(this.search.toLowerCase()));if(s.length===0){this.filteredBanks=[];return}this.filteredBanks=s,console.log(this.filteredBanks.length)},resetBanks(){this.filteredBanks=this.banks,this.search=""}},mounted(){this.getBanks()},computed:{displayBanks(){const s=this.perPage*(this.page-1),e=s+this.perPage;return this.filteredBanks.slice(s,e)}}},y={class:"mb-4"},D={class:"az-dashboard-title"},O=t("p",{class:"az-dashboard-text"},"List of the banks on the Integrator Api.",-1),N={class:"card"},I={class:"card-header"},P={class:"col-sm-3 d-flex flex-row"},S=t("button",{class:"btn btn-outline-primary w-100 rounded-50",type:"submit"},[t("i",{class:"fas fa-search mr-1"}),u(" Search ")],-1),V={class:"card-body"},A={class:"row"},E={class:"col-sm-4"},R={class:"d-flex flex-row"},M=t("div",{class:"forum-icon"},[t("span",{href:"",class:"az-img-user mr-2"},[t("img",{src:x,alt:""})])],-1),z={class:"border-left pl-1"},G={class:"forum-item-title"},L={class:"forum-sub-title"},U={class:"badge badge-primary float-right ml-3"},j=t("hr",null,null,-1),F={class:"row"},H={style:{"margin-left":"auto"},class:"ms-4 row justify-content-center col-sm-12"};function T(s,e,q,J,a,i){const h=c("router-link"),_=c("vue-awesome-paginate");return r(),l("div",null,[t("div",y,[t("h3",D,"Apex / Rural Banks "+o(a.banks.length),1),O]),t("div",N,[t("div",I,[t("form",{class:"col-sm-12 d-flex flex-row",onSubmit:e[2]||(e[2]=g(n=>i.searchBank(),["prevent"]))},[f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>a.search=n),type:"text",name:"search",id:"search",class:"form-control rounded-50",placeholder:"search bank..."},null,512),[[k,a.search]]),t("div",P,[t("button",{type:"button",class:"btn btn-outline-primary w-100 rounded-50",onClick:e[1]||(e[1]=n=>i.resetBanks())}," Refresh "),S])],32)]),t("div",V,[t("div",A,[(r(!0),l(b,null,v(i.displayBanks,n=>(r(),l("div",E,[d(h,{to:`/generated/returns/institution/${n.institutionID}`},{default:w(()=>[t("div",R,[M,t("div",z,[t("span",G,o(n.instName),1),t("div",L,[u(o(n.leaD_CO_CODE)+" ",1),t("span",U,o(n.instOperatingStatus),1)])])])]),_:2},1032,["to"]),j]))),256))])])]),t("div",{class:B(["app-content pt-3 p-md-3 p-lg-4",a.loading?"disabled":""])},[t("div",F,[t("div",H,[d(_,{class:"justify-content-center","total-items":a.filteredBanks.length,"items-per-page":20,"max-pages-shown":20,modelValue:a.currentPage,"onUpdate:modelValue":e[3]||(e[3]=n=>a.currentPage=n),disabled:a.loading,"page-count":Math.ceil(a.filteredBanks.length/a.perPage),"on-click":i.onClickHandler},null,8,["total-items","modelValue","disabled","page-count","on-click"])])])],2)])}const W=m(C,[["render",T]]);export{W as default};
